---
tags: Java/Многопоточность
--- 

Методы wait(), notify(), notifyAll() должны вызываться **только из синхронизированного кода**.

Для извещения потоком других потоков о своих действиях  используются следующие методы:
  
Методы `wait()`, `notify()` и `notifyAll()` являются частью механизма синхронизации в Java и используются для координации потоков и обмена информацией между ними.

1. **Метод wait()**:
    
    - `wait()` вызывается на объекте и переводит вызывающий поток в состояние ожидания, освобождая занятый им монитор.
    - Поток ожидает до тех пор, пока другой поток не вызовет метод `notify()` или `notifyAll()` на том же объекте или до истечения указанного времени ожидания (если метод `wait()` вызывается с аргументом времени).
    - Когда поток просыпается, он пытается повторно получить монитор и продолжить выполнение.
2. **Методы notify() и notifyAll()**:

	- `notify()` пробуждает один поток из состояния ожидания, связанного с вызывающим объектом.
	- `notifyAll()` пробуждает все потоки, находящиеся в состоянии ожидания на вызывающем объекте.
	- Пробужденный поток не моментально начинает выполнение кода, а ожидает, пока поток, который вызвал `notify()` или `notifyAll()`, освободит монитор.
	- После освобождения монитора одним из потоков, пробужденные потоки начинают конкурентно бороться за получение монитора с помощью ключевого слова `synchronized`.

```java
class SharedObject {
    private boolean isReady = false;

    public synchronized void waitForSignal() throws InterruptedException {
        while (!isReady) {
            wait(); // Поток ожидает сигнала
        }
        // Продолжение выполнения после получения сигнала
    }

    public synchronized void sendSignal() {
        isReady = true;
        notify(); // Один из ожидающих потоков получает сигнал
        // Или notifyAll(), чтобы все ожидающие потоки получили сигнал
    }
}

```



