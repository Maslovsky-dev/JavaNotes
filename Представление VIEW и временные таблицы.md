---
tags: SQL
--- 
Представление, View – виртуальная таблица, представляющая данные одной или более таблиц альтернативным образом. 

В действительности представление – всего лишь результат выполнения оператора SELECT, который хранится в структуре памяти, напоминающей SQL таблицу. Они работают в запросах и операторах DML точно так же как и основные таблицы, но не содержат никаких собственных данных.

Представления значительно расширяют возможности управления данными.

Это способ дать публичный доступ к некоторой (но не всей) информации в таблице.

## Как создать VIEW? 
К команде SQL добавить одну строку и появится папка views, где будут храниться типичные запросы.

![[Создать представление SQL.png]]

## Использование
![[Использование VIEW.png]]

## Materialized view. Отличие от простого view
Материализованное представление — физический объект базы данных, содержащий результат выполнения запроса. Только для чтения!

Материализованные представления позволяют многократно ускорить выполнение запросов, обращающихся к большому количеству записей, позволяя за секунды выполнять запросы к терабайтам данных.
![[Materialized view.png]]


|               | View                                                             | Materialized View                                                          |
| ------------- | ---------------------------------------------------------------- | -------------------------------------------------------------------------- |
| Что это?      | Виртуальная таблица, созданная в результате сохранённого запроса | физическая копия, картинка или снимок базовой таблицы на момент сохранения |
| Где хранятся? | не хранятся физически на диске                                   | хранятся на диске                                                          |
| Обновления        | обновляется, так как запрос, создающий представление, выполняется каждый раз при использовании VIEW | обновляется вручную или путем применения к нему триггеров (события JOB для обновления данных. Например, регулярная выгрузка статистических данных). |
| Реакция на запрос | Медленнее, т.к. формируется в ответ на сохранённый запрос                                           | Реагирует быстрее, т.к. предварительно сформировано                                                                                                 |
| Место в памяти    | это просто отображение, поэтому ему не требуется место в памяти                                     | использует пространство памяти, хранящееся на диске                                                                                                 |

## Временные таблицы
Временная таблица – это объект базы данных, который хранится и управляется системой базы данных на временной основе. Они могут быть локальными или глобальными.

Используется для сохранения результатов вызова [[SQL оценка производительности#Хранимые процедуры| хранимой процедуры]], уменьшение числа строк при соединениях, агрегирование данных из различных источников или как замена курсоров и параметризованных представлений.
