---
tags: Java/ООП
---

Для того, чтобы понять, что такое блоки инициализации, давайте сначала разберемся что такое инициализация. Кстати, **этот вопрос Вам могут задать на** **собеседовании**! Так что, даже если Вы уже знаете, что это - давайте повторим.

Инициализация (от англ. initialize, от  **initial** - "начальный, первоначальный") - это когда мы **впервые** задаем переменной какое-либо значение.

## Инициализация с помощью блоков
Представим, что мы хотим задать базовые значения переменных. Можно сделать это так:
```java
public class Test {
    public static void main(String[] args) {
        int i;
        System.out.println(i);
    }
}
```

А можно использовать блок инициализации:

```java
class Dog{

    private String name;
    private String poroda;
    private int age;
// Блок инициализации
    {
        name = "Шарик";
        poroda = "овчарка";
        age = 2;
    }

    public Dog(String x, String y, int z){
        name = x;
        poroda = y;
        age = z;
    }
}
```

## Виды блоков инициализации
Существует всего два типа блоков:

- **нестатический** (_instance initializer_)
- **статический** (_class initializer_)


В предыдущем примере Вы видели первый тип - нестатический блок инициализации. Его общую форму можно показать так:
```java
{
//...
}
```
Второй тип - статический блок. Внешне он совсем немного отличается от первого типа - только нужно дописать слово **static**:
```java
static {
//...
}
```
## Статические блоки инициализации
- Обозначаются ключевым словом `static`.
- Выполняются при загрузке класса, перед созданием экземпляров класса.
- Используются для инициализации статических полей класса или выполнения других операций, не требующих доступа к экземплярам класса.
- Могут выбрасывать исключения, которые должны быть обработаны или проброшены из блока инициализации.
- Может быть несколько статических блоков инициализации в классе, они выполняются в порядке их объявления.
## Нестатические блоки инициализации
- Не имеют модификатора `static`.
- **Выполняются при создании каждого экземпляра класса перед вызовом конструктора.**
- Используются для инициализации нестатических полей класса или выполнения других операций, которые требуют доступа к экземплярам класса.
- Могут выбрасывать исключения, которые должны быть обработаны или проброшены из блока инициализации.
- Может быть несколько нестатических блоков инициализации в классе, они выполняются в порядке их объявления после вызова конструктора.
## Функционал блоков инициализации
Внутри блоков инициализации можно не только присваивать значения, но и писать любые команды. Например:
```java
class Test{
    {
        System.out.println("Это нестатический блок!");
    }
}
```
При создании объекта класса в консоль выведется "Это нестатический блок!"

[Блоки инициализации в Java - Часть 1 - Vertex Academy](https://vertex-academy.com/tutorials/ru/bloki-inicializacii-v-java-chast-1/)

## [[Исключения в блоке инициализации]]

## Особенности БИ
Блок инициализации выполняется перед инициализацией класса загрузчиком классов или созданием объекта класса с помощью конструктора.

Несколько блоков инициализации выполняются в порядке следования в коде класса.
[[Конструкторы Java#Порядок вызова конструкторов и блоков инициализации с учетом иерархии классов]]

Блок инициализации возможно создать и в анонимном классе.


## Можно ли вызывать методы из блоков инициализации
Да, из статического блока можно вызвать только статический метод. Из нестатического блока как статический так и не статический.
Примеры:
```java
public class MyClass {
    static {
        // Статический блок инициализации
        someStaticMethod();
        // Можно работать со статическими полями
    }

    static void someStaticMethod() {
        // ...
    }
}
```

```java
public class MyClass {
    {
        // Нестатический блок инициализации
        someStaticMethod();
        someInstanceMethod();
        // Можно работать с полями экземпляра
    }

    static void someStaticMethod() {
        // ...
    }

    void someInstanceMethod() {
        // ...
    }
}
```
