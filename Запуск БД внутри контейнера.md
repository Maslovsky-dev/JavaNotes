---
tags: Микросервисы
---

Запуск PostgreSQL базы данных внутри контейнера — это распространенная и удобная практика, которая позволяет изолировать и управлять базой данных с помощью Docker. В зависимости от ваших требований к данным, вам может потребоваться настроить запуск базы данных.

Вот рекомендации по запуску PostgreSQL внутри контейнера:

1. **Выбор образа PostgreSQL**: Выберите подходящий образ PostgreSQL из Docker Hub. Официальный образ PostgreSQL предоставляется командой PostgreSQL и обеспечивает надежность и актуальность.

`docker pull postgres:latest`

2. **Запуск контейнера**: Запустите контейнер, указав имя пользователя, пароль, порт и другие настройки.

```bash
docker run -d --name postgres-container -e POSTGRES_PASSWORD=mysecretpassword -p 5432:5432 postgres:latest
```

    В этом примере, контейнер будет запущен в фоновом режиме (`-d`), имя контейнера будет `postgres-container`, и будет проброшен порт 5432 для доступа к базе данных.

3. **Сохранение данных**: Чтобы сохранить данные базы данных между перезапусками контейнера, вы можете монтировать директорию с хостовой машины внутрь контейнера, где PostgreSQL хранит свои данные.

```bash
docker run -d --name postgres-container -e POSTGRES_PASSWORD=mysecretpassword -p 5432:5432 -v /path/on/host:/var/lib/postgresql/data postgres:latest
```

    В этом случае, директория `/path/on/host` на хостовой машине будет монтироваться в директорию `/var/lib/postgresql/data` внутри контейнера, где хранятся данные PostgreSQL. Это обеспечит сохранность данных между перезапусками контейнера.

4. **Подключение к базе данных**: После запуска контейнера, вы можете подключиться к базе данных с помощью клиентского приложения или другого контейнера. Используйте хост `localhost` и порт, который вы пробросили при запуске контейнера (по умолчанию 5432).


Обратите внимание, что сохранение данных в контейнере может быть ограничено его жизненным циклом. Для продакшн-среды рекомендуется использовать внешние хранилища данных, такие как [[Docker Volume]], чтобы обеспечить более надежное сохранение данных базы данных.
