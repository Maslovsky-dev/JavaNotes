---
tags: Java/Многопоточность
---
## Как создать свой поток в java
Создать поток можно 2-мя способами.

## Первый способ создания потока:
- Определить класс - наследник класса Thread и переопределить метод run()
- Создать экземпляр своего класса и вызвать метод start()
```java
class MyThread extends Thread{ // Создаем класс наследник Thread 
    @Override
    public void run(){ // Переопределяем метод run()
        System.out.println("Hello, I’m " + Thread.currentThread());
    }
}
public class Main{
    public static void main(String[] args){
        MyThread myThread = new MyThread(); //экземпляр класса MyThread
        myThread.start(); // На экземпляре класса вызываем метод start()
    }
}
Вывод: Hello, I’m Thread[Thread-0,5,main]
```

>[!Note] 
>- **Если на экземпляре класса Thread вместо метода start() вызвать run()**
>То код, написанный для другого потока, отлично выполнится, но выполнит его тот же тред, который и вызвал этот метод, а новый запущен не будет! Поэтому нужно пользоваться методом start()  
>- **Можно создать любое число потоков, добавляя экземпляры класса MyThread**

## **Второй способ создания потока:**

- Реализовать интерфейс Runnable и метод _run()_.
- Создать экземпляр Thread и передать в конструктор свой Runnable (экземпляр класса, реализующий этот интерфейс).
```java
class MyThread implements Runnable{ //Реализуем интерфейс Runnable
    @Override
    public void run(){
        System.out.print("Hello, I’m " + Thread.currentThread().getName());
    }
}

public class Main{
    public static void main(String[] args){
        // Первый параметр: экземпляр Runnable
        // Второй параметр: своё имя (необязательно) 
        Thread myThread = new Thread(new MyThread(), "Leo");
        myThread.start();
    }
}
Вывод: Hello, I’m Leo
```

>[!note]
>Второй вариант лучше — он более гибкий. Например, если бы _MyThread_ уже наследовал какой-либо класс, то было бы невозможно пойти первым путём, так как Java не поддерживает множественное наследование.

## Сравнения способов
**Thread**: Класс Thread представляет отдельный поток выполнения в Java. При использовании класса Thread вы создаете новый объект потока и можете переопределить его метод **run()**, в котором определяется логика выполнения кода в отдельном потоке. При необходимости можно также использовать другие методы класса Thread, например, для управления жизненным циклом потока или синхронизации между потоками.

Когда использовать Thread:

- Если вам требуется полный контроль над жизненным циклом потока.
- Если вам необходимо использовать [[Методы класса Thread]] для управления потоком.
- Если вам нужно работать с низкоуровневыми операциями, такими как приостановка, прерывание или приоритет потока.

**Runnable**: Интерфейс Runnable представляет отдельную задачу, которая может быть выполнена в отдельном потоке. При использовании интерфейса Runnable вы создаете отдельный объект задачи и передаете его в конструктор объекта Thread. Объект Thread затем использует этот объект Runnable для выполнения задачи в отдельном потоке.

Когда использовать Runnable:

- Если вам нужно выполнить простую задачу в отдельном потоке без необходимости управления жизненным циклом потока.
- Если вам нужно повысить гибкость и переиспользуемость кода, разделив логику выполнения (Runnable) от управления потоком (Thread).

