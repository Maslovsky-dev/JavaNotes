---
tags: Spring
---
В Spring прокси просто оборачивает bean, он может добавить логику до и после выполнения методов.

Spring AOP использует либо динамические прокси JDK (на основе интерфейса), либо CGLIB (на основе класса) для создания прокси для данного целевого объекта.

Динамические прокси-серверы JDK предпочтительнее, когда у вас есть выбор.

>[!Success]
Динамические прокси-серверы JDK предпочтительнее, когда у вас есть выбор.
>
>Если целевой объект для проксирования реализует хотя бы один интерфейс, то будет использоваться динамический прокси JDK. Все интерфейсы, реализованные целевым типом, будут проксированы.

![[Dynamic proxy.png]]
![[InvocationHandler.png]]

>[!note]
>Если вы хотите принудительно использовать проксирование **CGLIB** (например, проксировать каждый метод, определенный для целевого объекта, а не только те, которые реализованы его интерфейсами), вы можете это сделать.
>
Чтобы принудительно использовать прокси **CGLIB**, установите для атрибута **proxy-target-class** элемента `<aop:config>` значение **true**.

![[JDK Proxy и GCLibProxy.png]]
