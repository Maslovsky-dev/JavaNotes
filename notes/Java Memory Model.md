---
tags: Java/Многопоточность
---
![[JMM.png]]
Описывает, КАК потоки должны взаимодействовать через общую память,
определяет набор действий меж поточного взаимодействия, например:
- чтение и запись переменной
- захват и освобождений монитора
- чтение и запись volatile переменной
- запуск нового потока.

## Области памяти java
1. **Heap (Куча)**: Куча - это область памяти, в которой хранятся объекты и массивы, созданные во время выполнения программы. Объекты, созданные с использованием ключевого слова `new`, размещаются в этой области. Куча автоматически управляется **сборщиком мусора**, который удаляет объекты, не имеющие активных ссылок.

2. **Stack (Стек)**: Стек - это область памяти, используемая для хранения данных методов и локальных переменных. Каждый поток выполнения программы имеет свой собственный стек. Стек управляется автоматически: он расширяется и сжимается в зависимости от выполнения методов.

3. **Method Area (Область методов)**: Область методов (также известная как **PermGen** до Java 7 или **Metaspace** начиная с Java 8) *содержит метаданные о классах, методах, интерфейсах, статических переменных и других элементах программы*. Эта область памяти также используется для хранения констант и строковых литералов.

5. **Native Method Stacks (Стеки нативных методов)**: Стеки нативных методов используются для выполнения нативных (написанных на других языках программирования) методов. Они работают схожим образом со стеками Java-методов.

6. **Direct Memory (Прямая память)**: Прямая память - это область памяти, управляемая вручную, используемая для хранения данных, которые не подвергаются сборке мусора, и часто используется для работы с нативными библиотеками через Java Native Interface (JNI).

	 **PC Register (Регистр программного счетчика)**: Регистр программного счетчика содержит текущую инструкцию, которая выполняется в текущем потоке. Это не является областью памяти для хранения данных Java, а скорее регистром процессора.
