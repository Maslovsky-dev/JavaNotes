---
tags: Java/Многопоточность
--- 
Метод `join()` в Java используется для ожидания завершения потока, на котором он вызывается. Когда поток A вызывает `join()` на потоке B, поток A блокируется и ожидает, пока поток B не завершит свое выполнение.

Работа метода `join()` выглядит следующим образом:

1. Поток A вызывает метод `join()` на потоке B.
2. Поток A переходит в состояние ожидания, пока поток B не завершит свое выполнение.
3. Когда поток B завершает свое выполнение (достигает конца своего метода `run()` или выбрасывает необработанное исключение), поток A продолжает свое выполнение.

Метод `join()` может вызываться с аргументом, указывающим максимальное время ожидания завершения потока. Например, `thread.join(5000)` ожидает завершения потока `thread` не более 5 секунд, после чего поток, вызывающий `join()`, продолжит свое выполнение, даже если поток `thread` не завершился.

`join()` полезен в ситуациях, когда нужно дождаться завершения другого потока, прежде чем продолжить выполнение текущего потока или выполнить определенные действия после завершения другого потока. Некоторые распространенные сценарии использования `join()` включают:

- Координация потоков: Ожидание завершения других потоков позволяет синхронизировать их выполнение и гарантировать определенный порядок операций.
- Ожидание завершения вычислений: Если в главном потоке необходимо получить результат выполнения других потоков, можно использовать `join()` для ожидания их завершения перед обработкой результатов.
### Пример 
```java
public class JoinExample {
    public static void main(String[] args) throws InterruptedException {
        Thread thread1 = new Thread(() -> {
            System.out.println("Поток 1 начал выполнение");
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println("Поток 1 завершил выполнение");
        });

        Thread thread2 = new Thread(() -> {
            System.out.println("Поток 2 начал выполнение");
            try {
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println("Поток 2 завершил выполнение");
        });

        thread1.start();
        thread2.start();

        System.out.println("Главный поток ожидает завершения потоков");

        thread1.join();
        thread2.join();

        System.out.println("Главный поток завершил выполнение");
    }
}

```
