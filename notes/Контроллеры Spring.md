---
tags: Spring, Web
--- 

DispatcherServlet отправляет запрос контроллерам для выполнения определённых функций. Аннотация @**Controller** указывает, что конкретный класс является контроллером. Аннотация @**RequestMapping** используется для мапинга (связывания) с URL для всего класса или для конкретного метода обработчика.

```java
@Controller
@RequestMapping("/hello")
public class HelloController { 
   @RequestMapping(method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
```

Аннотация [Controller](https://habrahabr.ru/users/controller/) определяет класс как Контроллер Spring MVC. В первом случае, @RequestMapping указывает, что все методы в данном Контроллере относятся к URL-адресу "/hello". Следующая аннотация @RequestMapping(method = RequestMethod.GET) используется для объявления метода **printHello()** как дефолтного метода для обработки HTTP-запросов GET (в данном Контроллере). Вы можете определить любой другой метод как обработчик всех POST-запросов по данному URL-адресу.

Вы можете написать вышеуказанный Контроллер по-другому, указав дополнительные атрибуты для аннотации @RequestMapping следующим образом:

```java
@Controller
public class HelloController {
   @RequestMapping(value = "/hello", method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
```


Атрибут «value» указывает URL, с которым мы связываем данный метод (value = "/hello"), далее указывается, что этот метод будет обрабатывать GET-запросы (method = RequestMethod.GET). Также, нужно отметить важные моменты в отношении приведённого выше контроллера:


- Вы определяете бизнес-логику внутри связанного таким образом служебного метода. Из него Вы можете вызывать любые другие методы.
- Основываясь на заданной бизнес-логике, в рамках этого метода Вы создаёте Модель (Model). Вы можете добавлять аттрибуты Модели, которые будут добавлены в Вид (View). В примере выше мы создаём Модель с атрибутом «message».
- Данный служебный метод возвращает имя Вида в виде строки String. В данном случае, запрашиваемый Вид имеет имя «hello».

## Чем аннотация RestController отличается от Controller
**@Controller** - это обычная аннотация, которая используется для пометки класса
как Spring MVC Controller (версия @Component, позволяет автоматически обнаруживать классы контроллеров на основе сканирования classpath) Возвращает модель с данными.
>[!INFO]
**@RestController** — это специальный контроллер, используемый в веб-сервисах RESTFul, и эквивалент **@Controller + @ResponseBody.** Возвращает данные. JSON или XML. Позволяет применять технологии без перезагрузки веб страниц, на основе JS.
>>Аннотация **@ResponseBody** ставится на методы, которые работают с данными,
а не с моделями. Ее не требуется указывать явно, если используется **@RestController**.
Обычные методы возвращают **Model**, а методы аннотированные **@ResponseBody** возвращают объекты, которые конвертируются в медиа-файлы с помощью HttpMessageConverter.

Основная разница между традиционным **Spring MVC** контроллером и **RESTfull** контроллером заключается в **способе создания тела HTTP ответа**. MVC контроллер опирается на технологию **View**, а **RESTfull** веб сервис контроллер возвращает объект, который представляется в HTTP ответе в виде **JSON или XML**. @RestController превращает помеченный класс в Spring- бин. Этот бин для конвертации входящих/исходящих данных использует [[Jackson]] message converter.
	Для того чтобы настроить @RestController на возвращение JSON или XML, используются Jackson зависимости. При отправке данных с фронта в рестконтроллер нужно в заголовке(header) указать тип возвращаемого/отправляемого тела запроса.
	Например, **ContentType** или accept: "application/json"


## Вопросы
### Можно ли передать в запрос один и тот же параметр несколько раз?
Да, можно принять все значения, используя массив в методе контроллера
![[Массив в качестве входного параметра метода контроллера.png]]
