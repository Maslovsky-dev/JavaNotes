---
tags:
  - Spring/Data
  - SQL
---
propagation - это одно из свойств аннотации @Transactional в Spring Framework, которое определяет, как должны вести себя вложенные транзакции при вызове методов внутри других методов с аннотацией @Transactional. Это свойство позволяет управлять поведением транзакций в различных сценариях. В Spring Framework есть несколько возможных значений для propagation:

 1. Propagation.REQUIRED (по умолчанию): Если метод вызывается в рамках существующей транзакции, то он присоединяется к этой транзакции. Если транзакции нет, то создается новая.
 2. Propagation.REQUIRES_NEW: Метод всегда создает новую транзакцию. Если метод вызывается в рамках существующей транзакции, она приостанавливается до завершения метода.
 3. Propagation.SUPPORTS: Метод использует существующую транзакцию, если она существует, но не создает новую, если её нет.
 4. Propagation.MANDATORY: Метод требует наличия существующей транзакции. Если транзакции нет, то будет выброшено исключение.
 5. Propagation.NESTED: Метод создает вложенную транзакцию, если она поддерживается. Если нет поддержки вложенных транзакций, это будет эквивалентно Propagation.REQUIRED.
 6. Propagation.NEVER: Метод не должен выполняться в контексте транзакции. Если текущая транзакция существует, будет выброшено исключение.
 7. Propagation.NOT_SUPPORTED: Метод должен выполняться без транзакции. Если текущая транзакция существует, она будет приостановлена до завершения метода.
 8. Propagation.NONPROPAGATED: Этот вариант, на самом деле, не существует в Spring. Это псевдо-значение, которое может быть использовано для указания отсутствия свойства propagation в @Transactional.