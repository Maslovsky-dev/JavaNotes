---
tags:
  - ORM
  - Hibernate
---
В работе [1] проведен эксперимент по сравнению технологий взаимодействия приложений с реляционными базами данных. Исследованы три технологии: прямое выполнение SQL-запросов, объектно-реляционное проецирование и динамическое формирование и исполнение запросов.

В качестве технологии, основанной на непосредственном выполнении SQL-запросов, является технология JDBC (Java DataBase Connectivity). JDBC представляет собой интерфейс для обеспечения доступа Java-приложений к базам данных. Примером реализации ORM решения является Hibernate, это API-библиотека для языка программирования Java, разработанная для облегчения задач объектно-реляционного отображения данных. В качестве реализации технологии отправки динамических SQL запросов выбрана технология Apache Cayenne. Эта современная технология ORM (Object-Relational Mapping) позволяет использовать как собственные SQL-запросы, так и объектно-реляционное отображение данных. Это позволяет разработчикам заменить участки приложения, где объектно-реляционное отображение проявляет низкую производительность, на собственные оптимизированные динамические SQL-запросы, используя интеграцию с Apache Velocity.

Apache Cayenne также предоставляет возможность получать результаты выполнения запросов в виде карт (Map<String, Object>) в тех частях приложения, где результаты запросов к базе данных не требуют предварительной обработки перед передачей в другие части приложения. Более того, данная технология обеспечивает гибкое взаимодействие с различными источниками данных, включая хранилище запросов, средства массового выполнения запросов и возможность постраничного вывода информации.

Проведенные исследования включали использование идентичных приложений, отличающихся только методами взаимодействия с реляционной базой данных. Каждое из приложений было подвергнуто нагрузочному тестированию.

Для разработки архитектуры веб-сервиса использовались следующие технологии и инструменты: Java как объектно-ориентированный язык программирования, JUnit для модульного тестирования, DBUnit для модульного тестирования, IntelliJ IDEA 11.1 Community Edition как среду разработки, IBM Data Studio для управления данными, Wsimport для генерации артефактов веб-сервиса на основе WSDL-файла, SoapUI для тестирования SOA-приложений и DbVisualizer для работы с базами данных.

Результатом работы являются рекомендации по выбору технологии в зависимости от типа CRUD операции и количества передаваемых бизнес-объектов (табл. Таблица 1).

Таблица 1 - Функциональные зоны использования технологий взаимодействия приложений с реляционными базами данных

| Функции           | Объем данных (число наборов данных) | Технология |         |           |
|-------------------|-------------------------------------|------------|---------|-----------|
|                   |                                     | JDBC       | Cayenne | Hibernate |
| Выборка данных    | До 1000                             | Да         | Да      | Нет       |
|                   | Больше 1000                         | Да         | Да      | Нет       |
| Добавление данных | До 1000                             | Да         | Нет     | Да        |
|                   | Больше 1000                         | Да         | Нет     | Да        |
| Изменение данных  | До 1000                             | Да         | Нет     | Да        |
|                   | Больше 1000                         | Нет        | Нет     | Да        |
| Удаление данных   | До 1000                             | Да         | Да      | Нет       |
|                   | Больше 1000                         | Да         | Да      | Нет       |


## Выводы 
Технология JDBC имеет преимущества по производительности перед большинством ORM-систем и систем формирования динамических запросов, так как она работает напрямую с реляционными данными и избегает дополнительных преобразований и слоев абстракции. Однако JDBC также имеет недостатки, такие как:

- необходимость писать больше кода для ручного отображения объектов на таблицы и наоборот;
- необходимость поддерживать согласованность между структурой объектов и схемой базы данных при изменении одного из них;
- необходимость обрабатывать исключения, закрывать ресурсы и управлять транзакциями;
- необходимость оптимизировать SQL-запросы для разных типов баз данных;
- отсутствие встроенной поддержки кэширования, проверки актуальности данных и полиморфных запросов;
## Источники
1. [Костюк В. В., Балцану М. В. Анализ производительности современных технологий взаимодействия приложений с реляционными базами данных // Теоретический и прикладной научно-технический журнал. 2015. C. 26.](http://novtex.ru/prin/full/05_2015.pdf#page=26)