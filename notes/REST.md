---
tags: Web
---
REST API (Representational State Transfer API) - архитектурный стиль взаимодействия компонентов распределенного веб-приложения. Representational - ресурсы в REST могут быть представлены в любой форме - JSON, XML, текст, или даже HTML- зависит от того, какие данные больше подходят потребителю.

В широком смысле, компоненты в REST взаимодействуют в сети Интернет в качестве клиентов и серверов. Грубо говоря REST - набор соглашений взаимодействия с HTTP. Определяет стиль взаимодействия между клиентом и сервером.

Преимущества:
- простота реализации;
- экономичность в плане ресурсов;
- позволяет разбить приложение на модули, написанные на разных ЯП

Недостатки:
- отсутствие спецификации;
- неоднозначность методов управления данными.
Если разрабатывается публичное API и логика взаимодействия во многом
покрывается четверкой методов CRUD - выбирается REST. Он наиболее
популярен в WEB. Яндекс, Google и другие используют именно его для своего API.
## 6 Правил REST сервисов
[6 основных принципов REST API](https://webhamster.ru/mytetrashare/index/mtb339/1526829184r5da41sxmn)
1. Client - server: отделяет пользовательский интерфейс от данных для улучшения переносимости и масштабируемости.

2. Steteless: запрос должен содержать всю информацию, не полагаясь на состояние на стороне сервера.

3. Cacheable: В ответе должно быть указано, могут ли данные быть кэшированы, что позволяет клиенту повторно использовать их.

4. Uniform interface: рекомендации по интерфейсу: 1) идентичность ресурсов; 2) манипуляция над ресурсами через представление; 3) исчерпывающие, понятные человеку сообщения; 4) гипермедиа (hypermedia) как движок для состояния приложения (HATEOAS) -- ссылки на другие ресурсы внутри приложения.

5. Layred system: Компоненты взаимодействуют только с ближайшими уровнями, достигая многоуровневости.

6. Code on demand: REST позволяет загружать и выполнять код по мере необходимости, сокращая количество предварительно написанных функций в клиентских приложениях.

## Форматы данных использующиеся в REST-сервисах
Архитектура REST позволяет поставщикам API доставлять данные в различных форматах, таких как **простой текст, HTML, XML, [YAML](https://ru.wikipedia.org/wiki/YAML) и [JSON](https://ru.wikipedia.org/wiki/JSON)**
## responseBody, requestBody, ResponseEntity
### responseBody
- `@ResponseBody` - это аннотация, которая используется над методом контроллера или над возвращаемым значением метода.
- Когда вы помечаете метод `@ResponseBody`, Spring преобразует возвращаемое значение метода (обычно объект) в тело ответа HTTP.
- Это позволяет контроллерам возвращать данные в формате JSON, XML или других форматах прямо в теле ответа, без необходимости использовать представления (views).
Пример:
```java
@RestController
public class MyController {

    @GetMapping("/data")
    public @ResponseBody Data getData() {
        Data data = new Data();
        data.setName("John");
        data.setAge(30);
        return data;
    }
}
```

### @RequestBody
- `@RequestBody` - это аннотация, которая используется над параметром метода контроллера.
- Когда вы помечаете параметр метода `@RequestBody`, Spring автоматически преобразует тело входящего запроса HTTP (обычно в формате JSON или XML) в Java-объект, указанный типом параметра.
Пример
```java
@RestController
public class MyController {

    @PostMapping("/save")
    public void saveData(@RequestBody Data data) {
        // Здесь data будет автоматически заполнен данными из тела запроса JSON/XML.
        // Например, если тело запроса JSON: {"name": "John", "age": 30}
        // то объект data будет иметь имя "John" и возраст 30.
    }
}
```

### ResponseEntity - специальный класс для возврата ответов. С помощью него
3. - `ResponseEntity` представляет полный HTTP-ответ, включая статус код, заголовки и тело ответа.
    - Он дает больше контроля над формированием ответа, чем использование аннотации `@ResponseBody`.
    - `ResponseEntity` можно использовать, когда вы хотите явно указать статус код, заголовки и тело ответа.

Пример:
```java
@RestController
public class MyController {

    @GetMapping("/entity")
    public ResponseEntity<Data> getData() {
        Data data = new Data();
        data.setName("John");
        data.setAge(30);
        return ResponseEntity.ok(data); // Устанавливаем статус код 200 OK и возвращаем data в теле ответа.
    }
}
```

[Подготовка к Spring Professional Certification. Spring REST / Хабр](https://habr.com/ru/post/471140/)


[[REST Template]]
