---
tags: SQL
---
При большом количестве данных запросы начинают долго выполняться, и сервер перестаёт справляться с нагрузкой. Одно из решений для оптимизации — это масштабирование базы данных. Например, шардинг или репликация (копирование).

Шардинг бывает вертикальным (партицирование для 1 экз. БД) и горизонтальным.

Допустим, есть большая таблица пользователей. Партицирование — это когда одну большую таблицу разделяют на много маленьких по какому-либо принципу.

Единственное отличие горизонтального масштабирования от вертикального в том, что горизонтальное будет разносить данные по разным **инстансам в других базах**.

Т.е. только записи с category_id=1 будут попадать в эту таблицу.
На базовую таблицу необходимо добавить правило. Когда мы будем работать с таблицей news, вставка на запись с category_id = 1 должна попасть именно в партицию news_1.
Правило называем как хотим.

![[Пример создания таблицы.png|300]]

![[Пример шардирования.png|500]]

Вертикальное - со столбцами
Горизонтальное - со строками
