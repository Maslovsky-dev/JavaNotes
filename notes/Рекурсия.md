---
tags: Алгоритмы
---
**Это функции, которые вызывают сами себя.**

Реку́рсия — определение, описание, изображение какого-либо объекта или процесса внутри самого этого объекта или процесса, то есть ситуация, когда объект является частью самого себя.

Рекурсия состоит из **базового случая и шага рекурсии.** Базовый случай представляет собой самую простую задачу, которая решается за одну итерацию, например, if(n == 0) return 1.

Пример с факториалом
```java
static int factorial(int x){
    if (x == 1){ //Базовый случай
        return 1;
    }
    return x * factorial(x - 1);
}
```

Термин «рекурсия» используется в различных специальных областях знаний — от лингвистики до логики, но наиболее широкое применение находит в математике и информатике.
![[Рекурсия задача-1.png]]
**Рекурсивно решаем задачу** «перенести башню из n−1 диска на 2-й штырь». Затем переносим самый большой диск на 3-й штырь, и рекурсивно решаем задачу «перенеси башню из n−1 диска на 3-й штырь».

Отсюда методом математической индукции заключаем, что минимальное число ходов, необходимое для решения головоломки, равно 2n − 1, где n — число дисков.

В информатике задачи, основанные на легенде о Ханойской башне, часто рассматривают в качестве примера использования рекурсивных алгоритмов и преобразования их к нерекурсивным

В базовом случае обязательно присутствует **условие выхода из рекурсии; Смысл рекурсии** в движении от исходной задачи к базовому случаю, пошагово уменьшая размер исходной задачи на каждом шаге рекурсии.

После того как будет найден базовый случай, срабатывает условие выхода из рекурсии, и стек рекурсивных вызовов разворачивается в обратном порядке, пересчитывая результат исходной задачи, который основан на результате, найденном в базовом случае.

**Классическим примером** рекурсии служит **вычисление факториала** числа. Факториал числа N - это произведение всех целых чисел от 1 до N. Например, факториал числа 3 равен 1 х 2 х 3, т.е. 6. Ниже показано, как вычислить факториал, используя рекурсию.

**Рекурсивный процесс** — это процесс обработки данных с отложенными вычислениями.

**Итеративный процесс** — это процесс вычисления, когда состояние может быть описано фиксированным количеством значений (перебор).

## Сравнение итеративных и рекурсивных алгоритмов

### Циклы
Дают лучшую производительность, чем рекурсивные вызовы,** поскольку вызовы методов потребляют больше ресурсов, чем исполнение обычных операторов.

**Циклы гарантируют отсутствие переполнения стека.** В случае рекурсии стек вызовов разрастается, и его необходимо просматривать для получения конечного ответа.

### Рекурсия

Рекурсию часто сравнивают с итерацией. Организация циклического процесса с помощью рекурсии имеет свои преимущества и недостатки.

**ПРЕИМУЩЕСТВА рекурсии:**

- естественность (натуральность) выражения сложных алгоритмов - рекурсивный алгоритм более читабелен в сравнении с итерационным - для многих распространенных задач рекурсию легче реализовать чем итерацию

Рекурсия хорошо подходит для реализации алгоритмов обхода списков, деревьев, графов и т.д.

**НЕДОСТАТКИ рекурсии:**

По сравнению с итерацией **многократный вызов рекурсивной** функции работает дольше. Это связано с тем, что при вызове рекурсивного метода его **параметры копируются в стек.** Также запоминаются временные значения локальных внутренних переменных. При завершении вызова рекурсивной функции предыдущие значения параметров вытягиваются из стека, что приводит к лишним операциям.

![[Рекурсия и Итерация пример.png]]

Пример https://youtu.be/OekWVc-3zfY

## Break в рекурсии
Лучше не использовать, потому что `break` может привести к преждевременному завершению не только текущего вызова, но и всех вызовов в стеке рекурсии.
Лучше сделать дополнительную проверку некоторого условия для выхода из рекурсии.
