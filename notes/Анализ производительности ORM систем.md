---
tags:
  - ORM
  - SQL
---
## Сравнение основных ORM систем между собой
В работе [1] рассматриваются основные JPA-реализации, такие как Hibernate, EclipseLink и OpenJPA, а также альтернативная ORM-система MyBatis. В процессе исследования авторами предлагается набор тестов, который используется для сравнения производительности различных JPA-реализаций.

JPA-реализация − программное средство или библиотека, которая реализует Java Persistence API (JPA) - стандартный интерфейс Java для управления объектно-реляционным отображением (ORM). Она предоставляет функциональность для сохранения, извлечения, обновления и удаления объектов в базе данных с использованием объектно-ориентированного подхода, при этом скрывая детали работы с реляционными таблицами и SQL-запросами.

Hibernate, EclipseLink, OpenJPA и др. – это библиотеки предоставляющие конкретные реализации интерфейсов JPA и позволяющие разработчикам взаимодействовать с базой данных, используя объекты и аннотации Java, вместо явного написания SQL-запросов.

В результате исследования выявлено, что что **EclipseLink и Hibernate** лучше всего оптимизированы для сценариев с **небольшим числом одновременных запросов**. Если количество запросов резко увеличивается, время их выполнения значительно возрастает.

При сравнении MyBatis, Hibernate и EclipseLink, MyBatis показывает лучшую производительность. Основное различие заключается в способе отображения таблиц базы данных на объекты. Hibernate и EclipseLink выполняют отображение таблиц на объекты и автоматически генерируют SQL-запросы для доступа к данным. В то время как MyBatis отображает SQL-запросы напрямую, позволяя разработчику полностью контролировать формирование запросов. Поэтому MyBatis идеально подходит для проектов, где часто используются сложные SQL-запросы, хранимые процедуры и динамический поиск данных. С другой стороны, Hibernate и EclipseLink подходят для проектов, где активно используются CRUD-операции, требуется кэширование, и схема базы данных часто меняется.

Также авторы отмечают, что можно комбинировать различные ORM-реализации на одном проекте, при условии четкого разделения функциональности. Например, можно использовать MyBatis для создания сложных отчетов и Hibernate или EclipseLink для работы с объектами. Это позволит достичь высокой производительности и ускорит процесс разработки.

Тестирование с разными базами данных показало, что разные провайдеры ORM могут иметь разную производительность при взаимодействии с разными БД. Например, при работе с базами данных PostgreSQL и MySQL реализации EclipseLink и Hibernate демонстрируют лучшие результаты, при этом EclipseLink чуть превосходит Hibernate. В случае работы с базой данных MariaDB, Hibernate оказывается более предпочтительным. Поэтому при выборе ORM-реализации необходимо учитывать, с какой базой данных будет взаимодействие.

Несмотря на то, что Hibernate использует большое количество классов для выполнения операций, его производительность оказывается оптимальной по сравнению с другими реализациями JPA. Кроме того, как Hibernate, так и EclipseLink демонстрируют низкую нагрузку на центральный процессор (ЦП).

## Выводы

1. Для выполнения сложных SQL-запросов и динамического поиска данных рекомендуется использовать MyBatis, в то время как для работы с CRUD-операциями и в ситуациях, когда требуется кэширование или схема базы данных часто меняется, лучше подойдут Hibernate или EclipseLink.                          
2. Возможно комбинирование различных ORM-реализаций на одном проекте. Это может быть полезно в случаях, когда разные части приложения имеют разные требования к взаимодействию с базой данных. Например, можно использовать MyBatis для создания сложных отчетов и Hibernate или EclipseLink для работы с объектами. 

## Источники
1. [Дашук В. A., Намиот Д. Е. Сравнительный анализ моделей работы с данными в Java-приложениях // International journal of open information technologies. 2020. № 7 (8). C. 95–108.](https://cyberleninka.ru/article/n/sravnitelnyy-analiz-modeley-raboty-s-dannymi-v-java-prilozheniyah)