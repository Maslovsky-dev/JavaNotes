---
tags: Java/ПодКапотом, Java/Многопоточность
aliases: demon
---

_Поток демона_ в Java — это _поток_, который работает в фоновом режиме и в основном создается JVM для выполнения фоновых задач, таких как сборка мусора 

Большинство потоков JVM (Java Virtual Machine) являются потоками-демонами.
## Свойства потоков-демонов:
- Не влияют на закрытие JVM, когда все пользовательские потоки завершили свое исполнение; 
- JVM сама закрывается, когда все пользовательские потоки перестают выполняться; 
- Если JVM обнаружит работающий поток-демон, она завершит его, после чего закроется. JVM не учитывает, работает поток или нет.

Чтобы установить, является ли поток демоном, используется метод boolean **isDaemon()**. Если да, то он возвращает значение true, если нет, то —  значение false.

## Для чего нужны?
Daemon потоки предназначены для выполнение фоновых задач и оказания различных сервисов User потокам. При завершении работы последнего User потока программа завершает своё выполнение, не дожидаясь окончания Daemon потоков.

Потоки не-демоны называются пользовательскими (user thread).
## Как создать?
Метод **setDaemon()** вызывается ДО запуска потока, ДО того, как поток будет запущен. В параметры передаём значение true. Так объявляем поток Демон потоком.

Если мы запустили поток и только потом создаём Демона, то будет выброшено
исключение **IllegalThreadStateException**.
![[Создать demon поток.png|400]]
